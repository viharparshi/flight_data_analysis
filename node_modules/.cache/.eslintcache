[{"/Users/viharparshi/Desktop/flight_data_analysis/src/index.js":"1","/Users/viharparshi/Desktop/flight_data_analysis/src/App.js":"2","/Users/viharparshi/Desktop/flight_data_analysis/src/reportWebVitals.js":"3","/Users/viharparshi/Desktop/flight_data_analysis/src/components/Search.js":"4","/Users/viharparshi/Desktop/flight_data_analysis/src/components/Navbar.js":"5","/Users/viharparshi/Desktop/flight_data_analysis/src/data.js":"6","/Users/viharparshi/Desktop/flight_data_analysis/src/components/Result.js":"7","/Users/viharparshi/Desktop/flight_data_analysis/src/components/TicketCard.js":"8","/Users/viharparshi/Desktop/flight_data_analysis/src/components/emptyPage.js":"9"},{"size":350,"mtime":1678245616998,"results":"10","hashOfConfig":"11"},{"size":258,"mtime":1678245616994,"results":"12","hashOfConfig":"11"},{"size":375,"mtime":1678245616999,"results":"13","hashOfConfig":"11"},{"size":8170,"mtime":1678245616998,"results":"14","hashOfConfig":"11"},{"size":619,"mtime":1678245616998,"results":"15","hashOfConfig":"11"},{"size":22002,"mtime":1678245616998,"results":"16","hashOfConfig":"11"},{"size":2946,"mtime":1678246146952,"results":"17","hashOfConfig":"11"},{"size":2447,"mtime":1678245616998,"results":"18","hashOfConfig":"11"},{"size":870,"mtime":1678245616998,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"r1t6tm",{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/viharparshi/Desktop/flight_data_analysis/src/index.js",[],[],"/Users/viharparshi/Desktop/flight_data_analysis/src/App.js",[],[],"/Users/viharparshi/Desktop/flight_data_analysis/src/reportWebVitals.js",[],[],"/Users/viharparshi/Desktop/flight_data_analysis/src/components/Search.js",["48","49","50"],[],"import React, { useEffect, useState } from \"react\";\r\nimport Result from \"./Result\";\r\nimport InputRange from \"react-input-range\";\r\nimport \"react-input-range/lib/css/index.css\";\r\nimport flightData from \"../data\";\r\n\r\nfunction Search() {\r\n  const [btnType, setbtnType] = useState(\"oneWay\");\r\n  const [passengerCount, setPassengerCount] = useState(1);\r\n  const [priceRange, setPriceRange] = useState(10000);\r\n\r\n  const [bookReturn, setBookReturn] = useState(false);\r\n  const [originCity, setOriginCity] = useState(\"\");\r\n  const [destinationCity, setDestinationCity] = useState(\"\");\r\n  const [departureDate, setDepartureDate] = useState(\"\");\r\n  const [returnDate, setReturnDate] = useState(\"\");\r\n  const [filteredData, setFilteredData] = useState([]);\r\n\r\n  const [isSearchClicked, setIsSearchClicked] = useState(false);\r\n  const [returnFilterData, setReturnFilterData] = useState([]);\r\n\r\n  const bookType = [\r\n    {\r\n      name: \"One way\",\r\n      id: \"oneWay\",\r\n    },\r\n    {\r\n      name: \"Return\",\r\n      id: \"return\",\r\n    },\r\n  ];\r\n\r\n  const handleBookType = (id) => {\r\n    setbtnType(id);\r\n    if (id === \"oneWay\") {\r\n      setIsSearchClicked(false);\r\n      setBookReturn(false);\r\n      setReturnDate(\"\");\r\n    } else if (id === \"return\") {\r\n      setIsSearchClicked(false);\r\n      setBookReturn(true);\r\n    }\r\n  };\r\n\r\n  const handleCount = (key) => {\r\n    if (key === \"add\") {\r\n      if (passengerCount >= 5) {\r\n        return;\r\n      }\r\n      setPassengerCount(passengerCount + 1);\r\n    } else if (key === \"less\") {\r\n      if (passengerCount === 1) {\r\n        return;\r\n      }\r\n      setPassengerCount(passengerCount - 1);\r\n    }\r\n  };\r\n\r\n  const handleFocus = (e) => {\r\n    e.currentTarget.type = \"date\";\r\n  };\r\n  const handleBlur = (e) => {\r\n    e.currentTarget.type = \"text\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleFilter();\r\n    returnFilter();\r\n  }, [priceRange]);\r\n\r\n  const handleFilter = () => {\r\n    let result = flightData.filter((data) => {\r\n      if (\r\n        data &&\r\n        data.from.city &&\r\n        data.to.city &&\r\n        data.from.city\r\n          .toLowerCase()\r\n          .includes(originCity.trim().toLowerCase()) &&\r\n        data.to.city\r\n          .toLowerCase()\r\n          .includes(destinationCity.trim().toLowerCase()) &&\r\n        data.depart === departureDate &&\r\n        data.price <= priceRange\r\n      ) {\r\n        return data;\r\n      }\r\n    });\r\n    setFilteredData(result);\r\n  };\r\n  const returnFilter = () => {\r\n    let result = flightData.filter((data) => {\r\n      if (\r\n        data &&\r\n        data.from &&\r\n        data.from.city &&\r\n        data.from.city\r\n          .toLowerCase()\r\n          .includes(destinationCity.trim().toLowerCase()) &&\r\n        data.to &&\r\n        data.to.city &&\r\n        data.to.city.toLowerCase().includes(originCity.trim().toLowerCase()) &&\r\n        data.depart === returnDate &&\r\n        data.price <= priceRange\r\n      ) {\r\n        return data;\r\n      }\r\n    });\r\n    setReturnFilterData(result);\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    if (bookReturn && !returnDate) {\r\n      alert(\"Return date can't be empty!\");\r\n    } else if (!originCity) {\r\n      alert(\"Origin city can't be empty!\");\r\n    } else if (!destinationCity) {\r\n      alert(\"Destination city can't be empty!\");\r\n    } else if (!departureDate) {\r\n      alert(\"Departure date can't be empty!\");\r\n    }\r\n    if (originCity && destinationCity && departureDate) {\r\n      setIsSearchClicked(true);\r\n      handleFilter();\r\n      if (bookReturn && returnDate) {\r\n        returnFilter();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row mt-4 ml-5 mr-5\">\r\n        <div className=\"col-md-4\">\r\n          <div className=\"card\">\r\n            <div className=\"card-body\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"btn-group d-flex justify-content-center\">\r\n                    {bookType.map((type) => {\r\n                      return (\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`btn ${\r\n                            btnType === type.id ? \"active_btn\" : \"\"\r\n                          }`}\r\n                          key={type.id}\r\n                          onClick={() => handleBookType(type.id)}\r\n                        >\r\n                          {type.name}\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter origin city\"\r\n                    className=\"form-control mt-4\"\r\n                    onChange={(e) => setOriginCity(e.target.value)}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter destination city\"\r\n                    className=\"form-control mt-2\"\r\n                    onChange={(e) => setDestinationCity(e.target.value)}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter departure date\"\r\n                    className=\"form-control mt-2\"\r\n                    onFocus={handleFocus}\r\n                    onBlur={handleBlur}\r\n                    onChange={(e) => setDepartureDate(e.target.value)}\r\n                  />\r\n                  {btnType === \"return\" ? (\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Enter return date\"\r\n                      className=\"form-control mt-2\"\r\n                      onFocus={handleFocus}\r\n                      onBlur={handleBlur}\r\n                      onChange={(e) => setReturnDate(e.target.value)}\r\n                    />\r\n                  ) : null}\r\n                  <div\r\n                    className=\"d-flex justify-content-center mt-2\"\r\n                    style={{ alignItems: \"center\" }}\r\n                  >\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-secondary mr-2\"\r\n                      onClick={() => handleCount(\"less\")}\r\n                    >\r\n                      -\r\n                    </button>\r\n                    <div className=\"text-muted\">\r\n                      {passengerCount} passengers\r\n                    </div>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn btn-secondary ml-2\"\r\n                      onClick={() => handleCount(\"add\")}\r\n                    >\r\n                      +\r\n                    </button>\r\n                  </div>\r\n                  <div>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn search_btn\"\r\n                      onClick={handleSearch}\r\n                    >\r\n                      <b>Search</b>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"card mt-4\">\r\n                <div className=\"card-body\">\r\n                  <div\r\n                    style={{\r\n                      marginBottom: \".7rem\",\r\n                      fontWeight: \"bold\",\r\n                    }}\r\n                  >\r\n                    Refine flight search\r\n                  </div>\r\n                  <div className=\"mt-4 mb-4\">\r\n                    <InputRange\r\n                      minValue={0}\r\n                      step={100}\r\n                      maxValue={10000}\r\n                      formatLabel={(price) => `${price}`}\r\n                      value={priceRange}\r\n                      onChange={(price) => setPriceRange(price)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <Result\r\n            filteredData={filteredData}\r\n            bookReturn={bookReturn}\r\n            isSearchClicked={isSearchClicked}\r\n            returnFilterData={returnFilterData}\r\n            passengerCount={passengerCount}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","/Users/viharparshi/Desktop/flight_data_analysis/src/components/Navbar.js",[],[],"/Users/viharparshi/Desktop/flight_data_analysis/src/data.js",[],[],"/Users/viharparshi/Desktop/flight_data_analysis/src/components/Result.js",[],[],"/Users/viharparshi/Desktop/flight_data_analysis/src/components/TicketCard.js",[],[],"/Users/viharparshi/Desktop/flight_data_analysis/src/components/emptyPage.js",[],[],{"ruleId":"51","severity":1,"message":"52","line":69,"column":6,"nodeType":"53","endLine":69,"endColumn":18,"suggestions":"54"},{"ruleId":"55","severity":1,"message":"56","line":72,"column":43,"nodeType":"57","messageId":"58","endLine":72,"endColumn":45},{"ruleId":"55","severity":1,"message":"56","line":92,"column":43,"nodeType":"57","messageId":"58","endLine":92,"endColumn":45},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'handleFilter' and 'returnFilter'. Either include them or remove the dependency array.","ArrayExpression",["59"],"array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd",{"desc":"60","fix":"61"},"Update the dependencies array to be: [handleFilter, priceRange, returnFilter]",{"range":"62","text":"63"},[1856,1868],"[handleFilter, priceRange, returnFilter]"]